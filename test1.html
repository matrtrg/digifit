<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>La Carta — Envelope & Gallery</title>
<iframe width="0" height="0" src="music/AdoreYou.mp3" frameborder="0" allowfullscreen></iframe>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');

* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
    font-family: 'Poppins', sans-serif;
    background-color: #f9f9f9;
    color: #333;
    overflow-x: hidden;
}
h1 {
    font-size: 2.5em;
    margin: 40px 0 20px 0;
    font-weight: 600;
    color: #333;
    text-align: center;
}
section { padding: 40px 0; transition: background 1s ease; }

/* ===== MOBILE RESPONSIVENESS ===== */
@media (max-width: 768px) {
  h1 { font-size: 1.8em; margin: 20px 0; }
  .card { width: 120px; height: 180px; }
  .face.front b { font-size: 1.5em; }
  .face.back { font-size: 0.8em; }
  .envelope { width: 230px; height: 180px; }
  .letter { width: 60%; right: 18%; }
  .gallery { column-count: 2; column-gap: 10px; }
  .stop-button { width: 80%; font-size: 14px; }
  #letter-container { width: 95%; padding: 15px; font-size: 0.9em; }
}

@media (max-width: 480px) {
  h1 { font-size: 1.5em; }
  .card { width: 100px; height: 150px; }
  .face.front b { font-size: 1.2em; }
  .gallery { column-count: 1; }
}

@media (max-width: 360px) {
    .envelope { width: 200px; height: 160px; }
    .letter { width: 65%; right: 15%; height: 75%; padding: 10px; }
    .gallery { column-count: 1; column-gap: 8px; }
}


/* ===== LA CARTA SECTION ===== */
#cards-section {
    background: linear-gradient(135deg, #fdfd96, #ffb6c1, #aec6cf);
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}
#cards-section .container {
    display: flex;
    overflow-x: auto;
    white-space: nowrap;
    padding: 20px;
    max-width: 100vw;
    scroll-snap-type: x mandatory;
    scrollbar-width: none;
}
#cards-section .container::-webkit-scrollbar { display: none; }
.scrolling { display: flex; gap: 20px; white-space: nowrap; scroll-behavior: smooth; padding-bottom: 10px; }
.card {
    position: relative;
    width: 150px;
    height: 225px;
    border-radius: 15px;
    box-shadow: 0 15px 60px rgba(0,0,0,0.2);
    overflow: hidden;
    flex-shrink: 0;
    background: #fff;
    cursor: pointer;
    display: inline-block;
    scroll-snap-align: start;
    transition: transform 0.3s, box-shadow 0.3s;
    text-decoration: none;
}
.card:hover { transform: translateY(-10px); box-shadow: 0 20px 40px rgba(0,0,0,0.3); }
.face {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    text-align: center;
    padding: 20px;
    box-sizing: border-box;
}
.face.back {
    background: #fff;
    color: #333;
    font-size: 0.9em;
    opacity: 0;
    transition: opacity 0.3s;
}
.face.front {
    transition: 0.5s;
    border-radius: 15px;
    background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
}
.face.front b { margin: 0; font-size: 2em; color: #fff; text-shadow: 0 2px 5px rgba(0,0,0,0.2); }
.card:hover .face.front { height: 50px; }
.card:hover .face.front b { font-size: 0.8em; }
.card:hover .face.back { opacity: 1; }

@media (max-width: 768px) {
    h1 { font-size: 2em; }
    .card { width: 120px; height: 180px; }
    .face.front b { font-size: 1.5em; }
    .face.back { font-size: 0.8em; }
}

/* ===== ENVELOPE SECTION ===== */
#envelope-section {
    background: linear-gradient(180deg, #b0e57c, #ecf4fb);
    display: grid;
    place-items: center;
    height: 100vh;
}
.envelope-wrapper {
    background: #f5edd1;
    box-shadow: 0 0 40px rgba(0,0,0,0.2);
    position: relative;
}
.envelope {
    position: relative;
    width: 300px;
    height: 230px;
}
.envelope::before {
    content: "";
    position: absolute;
    top: 0;
    z-index: 2;
    border-top: 130px solid #ecdeb8;
    border-right: 150px solid transparent;
    border-left: 150px solid transparent;
    transform-origin: top;
    transition: all 0.5s ease-in-out 0.7s;
}
.envelope::after {
    content: "";
    position: absolute;
    z-index: 2;
    width: 0px;
    height: 0px;
    border-top: 130px solid transparent;
    border-right: 150px solid #e6cfa7;
    border-bottom: 100px solid #e6cfa7;
    border-left: 150px solid #e6cfa7;
}
.letter {
    position: absolute;
    right: 20%;
    bottom: 0;
    width: 54%;
    height: 80%;
    background: #fff;
    text-align: center;
    transition: all 1s ease-in-out;
    box-shadow: 0 0 5px rgba(0,0,0,0.2);
    padding: 20px 10px;
}
.letter .text { color: #444; text-align: left; font-size: 10px; }
.heart {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 15px;
    height: 15px;
    background: rgb(252, 8, 231);
    z-index: 4;
    transform: translate(-50%, -20%) rotate(45deg);
    transition: transform 0.5s ease-in-out 1s;
    box-shadow: 0 1px 6px rgba(0,0,0,0.2);
    cursor: pointer;
}
.heart:before, .heart:after {
    content: "";
    position: absolute;
    width: 15px;
    height: 15px;
    background-color: rgb(252, 8, 231);
    border-radius: 50%;
}
.heart:before { top: -7.5px; }
.heart:after { right: 7.5px; }
.flap .envelope::before { transform: rotateX(180deg); z-index: 0; }
.flap .envelope .letter { bottom: 100px; transform: scale(1.5); transition-delay: 1s; }
.flap .heart { transform: rotate(90deg); transition-delay: 0.4s; }

/* ===== GALLERY SECTION ===== */
#gallery-section { background: linear-gradient(180deg, #ecf4fb, #fff); text-align: center; }
.gallery {
    width: 90%;
    margin: 50px auto;
    column-count: auto;
    column-width: 250px;
    column-gap: 15px;
}
.gallery-item {
    width: 100%;
    margin-bottom: 15px;
    break-inside: avoid;
    border-radius: 10px;
    overflow: hidden;
}
.gallery img, .gallery video {
    width: 100%;
    display: block;
    object-fit: cover;
    cursor: pointer;
    transition: transform 0.3s ease;
}
.gallery img:hover, .gallery video:hover { transform: scale(1.05); }
.fullscreen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0,0,0,0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
}
.fullscreen img { max-width: 90%; max-height: 90%; }
.stop-button {
    margin: 20px auto;
    padding: 10px 20px;
    font-size: 16px;
    background-color: #ff4d4d;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background 0.3s;
}
.stop-button:hover { background-color: #cc0000; }
@media (max-width: 600px) { .gallery { column-count: 2; } }

/* ===== LETTER OVERLAY ===== */
#overlay {
    display: none;
    position: fixed;
    top:0;
    left:0;
    width:100vw;
    height:100vh;
    background: rgba(0,0,0,0.8);
    z-index: 2000;
    justify-content: center;
    align-items: center;
}
#letter-container {
    width: 80%;
    max-width: 600px;
    max-height: 80vh;
    background: #fff;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    border: 1px solid #fbc02d;
    line-height: 1.8;
    text-align: left;
    position: relative;
    overflow-y: auto;
    animation: fadeIn 1s ease-in-out;
}
#typedtext p { margin:10px 0; text-indent:30px; }
.cursor {
    display: inline-block;
    width: 8px;
    height: 18px;
    background: #fbc02d;
    margin-left: 5px;
    animation: blink 0.8s infinite;
}
@keyframes blink { 0% {opacity:1;} 50% {opacity:0;} 100% {opacity:1;} }
@keyframes fadeIn { from {opacity:0; transform:translateY(10px);} to {opacity:1; transform:translateY(0);} }

</style>
</head>
<body>

<!-- LA CARTA SECTION -->
<section id="cards-section">
    <h1>La Carta</h1>
    <div class="container">
        <div class="scrolling">
            <a class="card" data-letter="yellow"><div class="face front" style="background-color:#fdfd96;"><b>Yellow</b></div><div class="face back">Happiness</div></a>
            <a class="card" data-letter="pink"><div class="face front" style="background-color:#ffb6c1;"><b>Pink</b></div><div class="face back">Kindness</div></a>
            <a class="card" data-letter="red"><div class="face front" style="background-color:#ff6961;"><b>Red</b></div><div class="face back">Strength</div></a>
            <a class="card" data-letter="blue"><div class="face front" style="background-color:#4285F4;"><b>Blue</b></div><div class="face back">Smile</div></a>
        </div>
    </div>
</section>

<!-- ENVELOPE SECTION -->
<section id="envelope-section">
    <div class="envelope-wrapper">
        <div class="envelope">
            <div class="letter">
                <div class="text">
                    <strong>Dear Love.</strong><br>
                    <strong>Oct/12/2024.</strong>
                    <p>Hi love, thank you for everything — your smile, kindness, and love that brighten my world every day. ❤️</p>
                </div>
            </div>
        </div>
        <div class="heart"></div>
    </div>
</section>

<!-- GALLERY SECTION -->
<section id="gallery-section">
    <h1>Our Memories</h1>
    <div class="gallery">
        <div class="gallery-item"><video muted loop><source src="video1.mp4" type="video/mp4"></video></div>
        <div class="gallery-item"><img src="images/image1.png" alt="Gallery Image 1" onclick="openFullscreen(this)"></div>
        <div class="gallery-item"><img src="images/image2.jpg" alt="Gallery Image 2" onclick="openFullscreen(this)"></div>
        <div class="gallery-item"><video muted loop><source src="video2.mp4" type="video/mp4"></video></div>
        <div class="gallery-item"><img src="images/image3.jpg" alt="Gallery Image 3" onclick="openFullscreen(this)"></div>
    </div>
    <button class="stop-button" onclick="stopAllVideos()">Stop All Videos</button>
</section>

<!-- FULLSCREEN IMAGE VIEW -->
<div id="fullscreenViewer" class="fullscreen" style="display:none;" onclick="closeFullscreen()">
    <img id="fullscreenImage" src="">
</div>

<!-- LETTER OVERLAY -->
<div id="overlay">
    <div id="letter-container">
        <div id="typedtext"></div>
    </div>
</div>

<script>
// Scroll La Carta horizontally
document.querySelector('#cards-section .container').addEventListener('wheel', (event) => {
    event.preventDefault();
    event.currentTarget.scrollBy({ left: event.deltaY * 2, behavior: 'smooth' });
});

// Envelope Open Animation + Smooth Scroll
const envelope = document.querySelector('.envelope-wrapper');
envelope.addEventListener('click', () => {
    envelope.classList.toggle('flap');
    if (envelope.classList.contains('flap')) {
        setTimeout(() => {
            document.getElementById('gallery-section').scrollIntoView({ behavior: 'smooth' });
        }, 1800);
    }
});

// Gallery Logic
document.querySelectorAll("video").forEach(video => {
    video.addEventListener("mouseenter", () => video.play());
    video.addEventListener("mouseleave", () => { video.pause(); video.currentTime = 0; });
    video.addEventListener("click", e => {
        e.preventDefault();
        if(video.paused){ video.muted=false; video.controls=true; video.play(); }
        else{ video.pause(); video.muted=true; video.controls=false; }
    });
});
function openFullscreen(img) {
    document.getElementById("fullscreenImage").src = img.src;
    document.getElementById("fullscreenViewer").style.display = "flex";
}
function closeFullscreen() { document.getElementById("fullscreenViewer").style.display = "none"; }
function stopAllVideos() {
    document.querySelectorAll("video").forEach(video => {
        video.pause();
        video.currentTime = 0;
        video.muted = true;
        video.controls = false;
    });
}

// ===== LETTER OVERLAY LOGIC =====
const overlay = document.getElementById('overlay');
const overlayColors = {
    yellow: "#fdfd96",
    pink: "#ffb6c1",
    red: "#ff6961"
};

const lettersData = {
    yellow: [
        "9/20/2024",
        "Hi love! This letter is for the things I admire most about you—",
        "Your loving heart, not just for others, but also for yourself.",
        "Alam mo ba kung gaano kaganda ang puso mo? Yung lambing mo, pag-aalaga mo, at ang pagmamahal mo sa ibang tao are the things i love about you.",
        "but the one thing i love the most about you, ay yung hindi mo pagkalimot mahalin at respetuhin ang sarili mo.",
        "You know your worth, and you never let anyone take that away from you.",
        "You love deeply, but you never lose yourself in the process",
        "At yan ang isa sa pinakamahalagang bagay na natutunan ko mula sa’yo.",
        "There’s something so beautiful about the way you carry yourself, how you stay kind but firm,",
        "how you give so much love pero hindi mo hinahayaang maubos ka.",
        "That’s what makes you so amazing, love.",
        "Kaya please, never stop being the strong, loving person that you are.",
        "Always remember that I see you, I appreciate you, and I’ll always remind you how worthy you are.",
        "Kahit anong mangyari, nandito lang ako para ipaalala sa’yo na mahalaga ka, hindi lang sa akin, kundi sa buong mundo.",
        "<span style='color:#fbc02d; font-size: 22px; font-weight: bold;'>Mahal kita sobra, love. Keep shining! ❤</span>"
    ],
    pink: [
        "9/29/2024",
        "Hi love. This letter is all about your <span style='color:#ff4081; font-weight:bold;'>kindness</span>.",
        "I want to start this letter by going back to the first time we talked.",
        "I know we started off having this <span style='color:#ff1493;'>kalog energy</span> and flirting type,",
        "pero dun palang I can already see how <span style='color:#ff4081;'>kind</span> you are po.",
        "Habang tumatagal yung relationship natin and mas nakikilala kita,",
        "mas nakikita ko yung warmth sa words mo and the way you choose them so carefully,",
        "as if you always want to make others feel <span style='color:#ff69b4;'>understood</span> and <span style='color:#ff69b4;'>valued</span>.",
        "You have this quiet yet profound way of showing kindness that leaves a mark",
        "on everyone you meet, including me.",
        "",
        "I’ve seen how <span style='color:#ff4081;'>kind</span> you are not just to others, but to yourself too,",
        "how you find balance between what’s <span style='color:#ff69b4;'>right</span> and <span style='color:#ff69b4;'>wrong</span>,",
        "and how you always strive to do what’s <span style='color:#ff1493;'>better</span> and <span style='color:#ff1493;'>best</span>.",
        "Even when it’s hard, even when others don’t make it easy,",
        "you still manage to stay <span style='color:#ff4081;'>patient</span> and <span style='color:#ff4081;'>loving</span>, and true to yourself hihi.",
        "I’m so <span style='color:#ff4081;'>proud</span> of you love, and I feel so lucky to be loved",
        "by someone as wonderful as you.",
        "<span style='color:#ff1493; font-size: 22px; font-weight: bold;'>ILOVEEEYOUSOMUCCCHH ❤</span>"
    ],
    red: [
        "10/05/2024",
        "Hi love. This letter is all about your <span style='color:#ff4081; font-weight:bold;'>strength</span>.",
        "Gusto kong simulan ‘to by looking back sa mga moments na nakita kong gaano ka katatag.",
        "Sa simula pa lang, I already noticed your <span style='color:#ff1493;'>resilience</span>—yung paraan mo ng pagharap sa kahit anong challenge with a smile and a strong heart.",
        "Napansin ko kung paano mo hinaharap yung mga problema mo, hindi lang basta para matapos na, kundi para talaga matuto at maging <span style='color:#ff4081;'>better</span>.",
        "Habang mas nakikilala kita, mas lalo kong na-appreciate yung tapang mo.",
        "You don’t just endure things, you rise above them.",
        "Your words, your actions, and even the way you handle tough days, they all show how <span style='color:#ff69b4;'>strong</span> you truly are.",
        "Pero love, hindi lang naman about struggles ang strength mo—nakikita ko rin ito sa way mo magmahal, magbigay, at magpahalaga.",
        "I love how you choose to be <span style='color:#ff1493;'>hopeful</span> kahit na mahirap,",
        "paano mo pinipiling maging <span style='color:#ff4081;'>kind</span> kahit minsan unfair ang mundo,",
        "at paano mo pinaninindigan kung ano ang tama at <span style='color:#ff69b4;'>totoo</span>, kahit challenging.",
        "And that’s one of the million reasons why I admire you so much.",
        "Ang sarap mong mahalin, love. And I want you to know na kahit anong mangyari,",
        "nandito ako, always ready to remind you how <span style='color:#ff1493;'>amazing</span> and <span style='color:#ff4081;'>strong</span> you are.",
        "Super <span style='color:#ff4081;'>proud</span> ako sa’yo, love. And I’m beyond grateful na ikaw ang minamahal ko.",
        "<span style='color:#ff1493; font-size: 22px; font-weight: bold;'>ILOVEEEYOUSOMUCCCHH ❤</span>"
    ],
    blue: [
    "10/07/2024",
    "Hi love. This is the fourth letter, and the color <span style='color:#4285F4; font-weight:bold;'>blue</span> represents your smile.",
    "Every time you smile, it reminds me of a beautiful day with a sky-blue sky—",
    "a feeling of <span style='color:#4285F4;'>soothing calmness</span> and a sense of <span style='color:#4285F4;'>safety</span>.",
    "Simula pa lang nung una kitang nakita na nakangiti, alam ko na sa sarili ko,",
    "I want to keep that <span style='color:#4285F4;'>smile</span> on your face and protect it.",
    "Your smile has this way of making everything feel <span style='color:#4285F4;'>lighter</span> and <span style='color:#4285F4;'>brighter</span>.",
    "Parang kahit anong bigat ng mundo, isang ngiti mo lang, gumagaan ang lahat.",
    "Hindi mo lang alam kung gaano ito kahalaga sa akin, kung paano nito naaapektuhan ang buong araw ko.",
    "Kaya love, please keep smiling, not just for me, but for yourself too.",
    "You deserve to feel <span style='color:#4285F4;'>happy</span> and <span style='color:#4285F4;'>free</span>, just like the sky on the clearest day.",
    "At kahit ano pa ang mangyari, nandito lang ako, ready to do anything just to keep that beautiful <span style='color:#4285F4;'>smile</span> on your face.",
    "<span style='color:#4285F4; font-size: 22px; font-weight: bold;'>ILOVEEEYOUSOMUCCCHH ❤</span>"
    ]

};

function startTypewriter(aText) {
    let iSpeed = 50, iIndex = 0, iArrLength = aText[0].length, iTextPos = 0, sContents = "", iRow;
    const destination = document.getElementById("typedtext");

    function typewriter() {
        sContents = "";
        iRow = Math.max(0, iIndex);
        for (let j = 0; j < iIndex; j++) { sContents += "<p>" + aText[j] + "</p>"; }
        sContents += "<p>" + aText[iIndex].substring(0, iTextPos) + "<span class='cursor'></span></p>";
        destination.innerHTML = sContents;

        if (iTextPos++ === iArrLength) {
            iTextPos = 0; iIndex++;
            if (iIndex !== aText.length) { iArrLength = aText[iIndex].length; setTimeout(typewriter, 300); }
        } else { setTimeout(typewriter, iSpeed); }
    }
    typewriter();
}

document.querySelectorAll('.card').forEach(card => {
    card.addEventListener('click', () => {
        const letterKey = card.dataset.letter;
        if (lettersData[letterKey]) {
            overlay.style.display = 'flex';
            document.getElementById('letter-container').style.background = overlayColors[letterKey];
            document.getElementById('typedtext').innerHTML = '';
            startTypewriter(lettersData[letterKey]);
        }
    });
});

// Close overlay on click outside letter container
overlay.addEventListener('click', (e) => {
    if(e.target === overlay){ overlay.style.display = 'none'; }
});
</script>

</body>
</html>
